<!DOCTYPE html>
<html lang="en" id="html" class="dark-mode">
  <head>
    <meta charset="UTF-8">
    <title>Ehpelsuw - HR Tree</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <script src="hr-data-masked.js"></script>
    <script src="hr-script.js"></script>
    <script src="autocomplete.js"></script>
    <script src="console.js"></script>
  </head>

  <body>
    <header id="header-block" class="region flex">
      <div class="logo"
           id="logo"
           onclick="goHome()"></div>

      <!-- Make sure the form has browser autocomplete off -->
      <form autocomplete="off" action="hr-tree.html" class="autocomplete-form flex">
        <div class="autocomplete">
          <input id="myInput"
                 class="autocomplete-input"
                 type="text"
                 name="person"
                 placeholder="Start typing any part of a name"
                 onchange="showOptions()">
        </div>
        <input type="submit" value="" class="autocomplete-button">
      </form>
    </header>

    <div class="body-content-wrapper">
      <div id="cold-start" class="cold-start block hide">
        <div class="message">
          <div class="point-up"></div>
          <p>To get started, start typing a name in search box</p>
          <hr>
          <h1>Ehpelsuw HR Tree</h1>
          <p><a href="hr-tree.html?p=fee010015"
                class="button">Press to start at the CEO</a></p>
          <p class="code">&gt; Open developer console for project details</p>
        </div>
      </div>

      <div id="managers-block" class="block hide">
        <div id="managers-container" class="managers-grid flex"></div>
        <div class="edge"></div>
      </div>

      <div id="employee-container"></div>

      <div id="reports-block" class="block hide">
        <div class="edge"></div>
        <div id="reports-container" class="flex">
        </div>
      </div>
    </div>
    <div id="console" class="console"></div>
  </body>

  <script>
    // Initialize and render page
    // puts `EMPLOYEE` and `EMPLOYEES` in global scope
    Page.init(org.employees);

    // Home logo
    const goHome = () => {
      window.location.replace("hr-tree.html")
    }

    // Instrument autocomplete
    const showOptions = () => {
      var inp = getElId("myInput")
      autocomplete(inp, EMPLOYEES)
    }

    // Hydrate autocomplete
    autocomplete( getElId( "myInput" ), EMPLOYEES );
  </script>
</html>
